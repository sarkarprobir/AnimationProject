@model List<AnimationProject.Models.ResponseGetDesignBoardAll>
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
@* <script src="~/js/action.js?v=@Configuration["AppSettings:FilesVersion"]"></script> *@
@* <script src="~/js/animation_min.js"></script> *@
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
@* google fonts *@
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
<style>
    body {
    background-color: #fff;
    font-family: "Nunito Sans", sans-serif;
    }

    p {
    font-size: 15px;
    }

    .acc_cont {
    margin-top: 6.5rem;
    margin-bottom: 6rem;
    padding-left: 100px !important;
    padding-right: 100px !important;
    }

    .account {
    color: white;
    margin-bottom: 0;
    font-size: 14px;
    text-decoration: none;
    cursor: pointer;
    }

    .header {
    background-color: black;
    padding: 10px 20px;
    }

    .heading_acc {
    font-weight: 800;
    }

    .acc_input {
    border: none !important;
    padding-left: 0 !important;
    }

    .acc_btn {
    border-radius: 0 !important;
    width: 250px;
    font-weight: 600 !important;
    }

    tr {
    border-color: transparent !important;
    }

    .dropdown-menu.show {
    background: #fff;
    border-radius: 1rem;
    border: 0px;
    height: auto !important;
    width: 240px;
    -webkit-box-shadow: 0px 0px 7px #c1bbbb;
    box-shadow: 0px 0px 7px #c1bbbb;
    overflow: hidden !important;
    }

    .dropdown {
    color: #000000 !important;
    }




    .dropdown-item:hover {
    color: #fff !important;
        background-color: #6214fe !important;
    }

    .nav-item .dropdown-item:hover {
        background-color: #6214fe !important;
    }

    .profile {
    color: #fff !important;
        background-color: #6214fe !important;
    width: 47px;
    height: 47px;
    font-size: 17px !important;
    font-weight: 600 !important;
    }

    .acc_list:hover {
    background-color: #2f2893 !important;
    }

    .pay_button {
    border-radius: 0 !important;
    width: 145px;
    font-size: 15px !important;
    }

    .my-button {
    border-radius: 0 !important;
    height: 47px;
    width: 220px;
    font-size: 15px !important;
    font-weight: 600 !important;
    }

    .my-button:hover {
    background-color: #000000 !important;
    color: #fff !important;
    }

    .create_button {
        background-color: #6214fe !important;
    border-color: transparent !important;
    }

    .browse_button {
    color: black !important;
    background-color: #d4d3e1 !important;
    border-color: transparent !important;
    }

    input::placeholder {
    color: grey !important;
    font-weight: 600 !important;
    font-size: 15px !important;
    }
    .nav_active{
    color: #3cbeee;

    }
    .board_hori {
    width: 263px; 
    height: auto;
    }

    .board_button {
    font-size: 14px;
    text-decoration: none;
    color: #000000;
    cursor: pointer;
    }

    .board_button:hover {
    color: #3cbeee;
    }

    .board_verti {
    width: 167px;
    height: 299px;
    }
    .board_info_icon{
        border: 2px solid lightgrey;
        padding: 0px 7px;
        border-radius: 3px;
    }

    .board_info_icon:hover{
            background-color: #4e43e182;
    }

    .board_info_btn{
        font-size: 17px;
        border: none;
        box-shadow: none;
        background-color: transparent;
        position: absolute;
        top: 5px;
        right: 9px;
    }

    .board_info_btn:hover{
        color: red !important;
    }

    .board_info_card{
        width: 380px !important;
        position: relative !important;
        border-radius: 3px !important;
        font-size: 14px;
        border: none !important;
        box-shadow: rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px;
    }

    .link_board{
        position: relative;
        border-radius: 3px !important;
        border: 1.5px solid lightgrey !important;
        margin-left: 22px !important;
    }

    .link-form {
        background-color: transparent !important;
    }
    .copy-button{
        position: absolute !important;
        top: 0;
        right: 0;
    }

    .arrow_info {
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-top: 10px solid #fff;
        /* box-shadow: rgba(0, 0, 0, 0.16) 0px -3px 6px, rgba(0, 0, 0, 0.23) 0px -3px 6px; */
    }
</style>


<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
rel="stylesheet">
<link href="~/css/animate/animate.min.css" rel="stylesheet">
<link href="~/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link href="~/css/style.css" rel="stylesheet">
<link href="~/css/canvas.css" rel="stylesheet">
<link href="~/css/responsive.css" rel="stylesheet">
<script src='https://code.jquery.com/jquery-3.2.1.slim.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
<script src="~/js/wow.min.js"></script>



@* <div class="header d-flex align-items-center"> *@
@*     <p class="account">My Account</p> *@
@*     <div class="icons ms-auto"> *@
@*         <i class="fa-brands fa-square-youtube"></i> *@
@*         <i class="fa-solid fa-download"></i> *@
@*     </div> *@
@* </div> *@
<nav class="navbar bg-dark-topnav navbar-expand-lg fixed-top">
    <div class="container-fluid p-r-0" style="justify-content: center !important;">
        <div class="row">
            <div class="col-md-5 d-flex align-items-center gap-4 ms-2">
                <a href="javascript:history.back()" class="account"><img src="~/images/icons/icon-left-arrow.png" width="25px" height="25px" alt="Alternate Text" /></a>
                <a class="account" asp-action="Account">Account</a>
                <a class="account nav_active">Boards</a>
                <a class="account">TV/Screens</a>
                <a class="account">Billing</a>
            </div>


            <div class="col-md-3 nav-right ms-auto">
                <ul>
                    @* <li class="play-btn"> *@
                    @*     <button class="btn" title="Play"><img src="~/images/icons/Icon-01.svg" width="25"> </button> *@
                    @* </li> *@
                    @* <li> *@
                    @*     <button class="btn" type="submit" title="download"><img src="~/images/icons/ico-download.svg"> </button> *@
                    @* </li> *@

                    <li class="nav-item dropdown">
                        <a class="profile nav-link text-light d-flex justify-content-center align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">


                            A
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown" style="background-color: #6214fe; border: none; border-radius:0; max-width: 106px; box-shadow: none;">
                            <li class="w-100 acc_list">
                                <a class="dropdown-item d-flex align-items-center text-white" asp-controller="Canvas" asp-action="Account">
                                    Account
                                </a>
                            </li>
                            <li class="w-100 acc_list">
                                <a class="dropdown-item d-flex align-items-center text-white" href="/change-password">
                                    Boards
                                </a>
                            </li>

                            <li class="w-100 acc_list">
                                <a class="dropdown-item d-flex align-items-center text-white" href="/logout">
                                    TV/Screens
                                </a>
                            </li>
                            <li class="w-100 acc_list">
                                <a class="dropdown-item d-flex align-items-center text-white" href="/logout">
                                    Billing
                                </a>
                            </li>
                            <li class="w-100 acc_list">
                                <a class="dropdown-item d-flex align-items-center text-white" href="/logout">
                                    Sign Out
                                </a>
                            </li>
                        </ul>
                    </li>


                </ul>
            </div>
        </div>
    </div>
</nav>



<div class="container  acc_cont">
    @* <div> *@
    @*     <button class="btn btn-danger pay_button">Pay and Renew</button> *@
    @*     <span class="ms-2 fs-8">Expired in 30 Days</span> *@
    @* </div> *@
    <div class="mt-5">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <h2 class="heading_acc">My AniBoards</h2>
            <div class="d-flex gap-3">
                <button class="btn btn-primary my-button create_button b_rad4" data-bs-toggle="modal" data-bs-target="#exampleModal">+ Create New Aniboard</button>
                <button class="btn btn-secondary my-button browse_button b_rad4">Browse The Template</button>
            </div>
        </div>

        <div class="row mt-4 mb-4">
            <div class="col-md-6">
                <p class="mb-4">Horizontal Screens</p>
                <div class="row">
                    @if (Model != null && Model.Count > 0)
                    {
                        @foreach (var item in Model)
                        {
                            if (item.SlideType == "Horizontal")
                            {
                                <div class="col-md-6">
                                    <img class="board_hori" src="~/images/banner.png"  alt="Alternate Text" />
                                    <div class="d-flex justify-content-center gap-4 mt-3">
                                        <b>@item.DesignBoardName</b>
                                    </div>
                                    <div class="d-flex justify-content-center gap-4 mt-3">
                                        <a class="board_button" href="#">Edit</a>
                                        <a class="board_button" href="#">Duplicate</a>
                                    </div>
                                </div>
                            }

                        }
                    }
                    <div class="col-md-6">
                        <img class="board_hori" src="~/images/banner.png" alt="Alternate Text" />
                        <div class="d-flex justify-content-center gap-4 mt-3">
                            <a class="board_button" href="#">Edit</a>
                            <a class="board_button" href="#">Duplicate</a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <img class="board_hori" src="~/images/banner.png" alt="Alternate Text" />
                        <div class="d-flex justify-content-center gap-4 mt-3">
                            <a class="board_button" href="#">Edit</a>
                            <a class="board_button" href="#">Duplicate</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <p class="mb-4">Vertical Screens</p>
                <div class="row d-flex row-gap-4">
                    @if (Model != null && Model.Count>0)
                    {
                        int idx = 1;

                        @foreach (var item in Model)
                        {
                            if (item.SlideType == "Vertical")
                            {
                                <div class="col-md-4">
                                    <div id="carousel_@idx"
                                         class="carousel slide board_verti"
                                         data-bs-ride="false" @* don’t auto-start *@
                                         data-bs-interval="2000">
                                        @* 2s per slide when running *@

                                        <div class="carousel-inner">
                                            @for (int j = 0; j < (item.DesignBoardDetailsList?.Count ?? 0); j++)
                                            {
                                                var detail = item.DesignBoardDetailsList[j];
                                                <div class="carousel-item @(j == 0 ? "active" : "")">
                                                    <img src="@Url.Content(detail.AnimationImagePath)"
                                                         class="d-block w-100"
                                                         alt="@detail.SlideName" />
                                                </div>
                                            }
                                        </div>

                                        <button class="carousel-control-prev" type="button"
                                                data-bs-target="#carousel_@idx"
                                                data-bs-slide="prev">
                                            <span class="carousel-control-prev-icon"></span>
                                            <span class="visually-hidden">Previous</span>
                                        </button>
                                        <button class="carousel-control-next" type="button"
                                                data-bs-target="#carousel_@idx"
                                                data-bs-slide="next">
                                            <span class="carousel-control-next-icon"></span>
                                            <span class="visually-hidden">Next</span>
                                        </button>
                                    </div>

                                    <div class="d-flex justify-content-center gap-4 mt-1">
                                        <b title="@item.DesignBoardName">
                                            @(item.DesignBoardName.Length > 10
                                                ? item.DesignBoardName.Substring(0, 10) + "…"
                                                : item.DesignBoardName)
                                        </b>
                                    </div>
                                    <div class="d-flex justify-content-center gap-4 mt-2">
                                        <a class="board_button"
                                           onclick="RedirectToVerticalPage('@item.DesignBoardId')">Edit</a>
                                        <a class="board_button" href="#">Duplicate</a>
                                    </div>
                                    <div class="board_info_dots d-flex justify-content-center mt-2">
                                        <div class="board_info_icon d-flex justify-content-center">
                                            <i class="fa-solid fa-ellipsis"></i>
                                        </div>
                                    </div>
                                </div>
                                idx++;
                            }
                            }
                    }
                </div>
            </div>
            

        </div>
    </div>

    <!--  board_info -->
    <div class="board_info_card card p-4">
        <!-- Close Button -->
        <button type="button" class="board_info_btn" aria-label="Close">x</button>

        <div class="mb-4">
            <div class="d-flex gap-4 mb-1">
                <span><strong>File</strong> <span style="margin-left: 51px;">:</span> </span>
                <span class="ms-2 fw-bold">Sunday Adboard v01</span>
            </div>

            <div class="d-flex gap-4 mb-1">
                <span><strong>Size</strong> <span style="margin-left: 48px;">:</span></span>
                <span class="ms-2">1080x1920</span>
            </div>

            <div class="d-flex gap-4 mb-1">
                <span><strong>Created</strong> <span style="margin-left: 23.1px;">:</span> </span>
                <span class="ms-2">28 May 2025</span>
            </div>

            <div class="d-flex gap-4 mb-1">
                <span><strong>Modified</strong> <span style="margin-left: 18px;">:</span> </span>
                <span class="ms-2">29 May 2025</span>
            </div>

            <div class="d-flex gap-4 mb-1">
                <span><strong>Expiration</strong> <span style="margin-left: 9px;">:</span> </span>
                <span class="ms-2 text-danger">28 May 2026</span>
            </div>
        </div>

        <!-- Link Box -->
        <div class="d-flex align-items-center">
            <span><strong>Link</strong></span>
            <span style="margin-left: 51px;">:</span>
            <div class="input-group link_board">
                <input type="text" class="form-control form-control-sm link-form" value="https://aniboard.com/v20560" readonly>
                <button class="btn copy-button" type="button">
                    <i class="fa-regular fa-copy"></i>
                </button>
            </div>
        </div>

        <!-- Bottom Arrow -->
        <div class="arrow_info"></div>
    <!-- board_info end -->
</div>


<!-- Modal Structure -->
<div class="modal fade layout_modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
    <div class="modal-dialog">
        <div class="modal-content p-3">
            <div class="modal-header">
                <h5 class="modal-title" id="aniBoardModalLabel">New AniBoard</h5>
            </div>

            <div class="modal-body">
                <!-- Vertical Option -->
                <div class="option-box d-flex justify-content-between align-items-center mb-2" id="vertical-option">
                    <div class="d-flex align-items-center">
                        <div class="portrait-icon"></div>
                        <span class="vertical_option">Vertical / Portrait</span>
                    </div>
                    <span>1080x1920</span>
                </div>
                <!-- Horizontal Option -->
                <div class="option-box d-flex justify-content-between align-items-center" id="horizontal-option">
                    <div class="d-flex align-items-center">
                        <div class="landscape-icon"></div>
                        <span>Horizontal / Landscape</span>
                    </div>
                    <span>1920x1080</span>
                </div>

               
            </div>

            <div class="modal-footer pt-0">
                    <button type="button" class="cancel-btn" data-bs-dismiss="modal">Cancel</button>
                <button class="create-btn" id="create-button">Create</button>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script src="~/js/boards.js?v=@Configuration["AppSettings:FilesVersion"]"></script>
  
<script>
            document.addEventListener("DOMContentLoaded", function () {
            const videos = document.querySelectorAll("video.miniPlayer");

            videos.forEach(video => {
                // Ensure the first frame loads (avoids black screen)
                video.addEventListener("loadeddata", function () {
                    video.currentTime = 0.1;
                });

                // Play video on mouse hover
                video.addEventListener("mouseenter", function () {
                    video.play();
                });

                // Pause and reset when mouse leaves
                video.addEventListener("mouseleave", function () {
                    video.pause();
                    video.currentTime = 0.1;
                });
            });
        });
                function RedirectToVerticalPage(id) {
            // Use encodeURIComponent for URL safety
            window.location = `${baseURL}Canvas/VerticalIndex?id=${encodeURIComponent(id)}`;
        }

        let selectedOption = ""; // Variable to store the selected board type

        document.getElementById("horizontal-option").addEventListener("click", function () {
            selectedOption = "horizontal";
            highlightSelection("horizontal-option");
        });

        document.getElementById("vertical-option").addEventListener("click", function () {
            selectedOption = "vertical";
            highlightSelection("vertical-option");
        });

        document.getElementById("create-button").addEventListener("click", function () {
            if (selectedOption === "horizontal") {
                window.location.href = "/Canvas/HorizontalIndex"; // Redirect to horizontal page
            } else if (selectedOption === "vertical") {
                window.location.href = "/Canvas/VerticalIndex"; // Redirect to vertical page
            } else {
                // alert("Please select an option before proceeding!");
                MessageShow('', 'Please select an option before proceeding!', 'error');
            }
        });

        // Function to highlight selected option
        function highlightSelection(selectedId) {
            document.getElementById("horizontal-option").classList.remove("selected");
            document.getElementById("vertical-option").classList.remove("selected");
            document.getElementById(selectedId).classList.add("selected");
        }

        document.addEventListener('DOMContentLoaded', function () {
          document.querySelectorAll('.panel-vertical-scroll .menuboard-vertical-thum')
            .forEach(item => {
              item.addEventListener('click', function () {
                this.classList.toggle('active');
              });
            });
        });
</script>
    <script>
        // For each .board_verti carousel, create a Bootstrap Carousel instance,
        // pause it, and wire up hover to cycle/pause THAT carousel only.
        document.querySelectorAll('.board_verti').forEach(function(el) {
          // init carousel API with the data-bs-interval you set (2000ms)
          var carousel = bootstrap.Carousel.getOrCreateInstance(el);
          carousel.pause();

          el.addEventListener('mouseenter', function() {
            carousel.cycle();
          });
          el.addEventListener('mouseleave', function() {
            carousel.pause();
          });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
}